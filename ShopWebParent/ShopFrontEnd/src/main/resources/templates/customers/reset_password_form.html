<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: page_head('Đổi mật khẩu', 'none')" />
<body>
	<div class="container-fluid">
		<div th:replace="navigation :: header_menu"></div>
		<div>&nbsp;</div>
		<div class="text-center">
			<h2>Đặt lại mật khẩu</h2>
		</div>
		
		<form th:action="reset_password" method="post" style="max-width: 33%; margin: 0 auto">
		<input type="hidden" th:value="${token}" name="token"/>
			<div th:if="${error != null}">
				<p class="text-danger">[[${error}]]</p>
			</div>
			<div th:if="${message != null}">
				<p class="text-warning">[[${message}]]</p>
			</div>
			<div class="border border-secondary rounded p-3">
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Mật khẩu mới:</label>
					<div class="col-sm-8">
						<input type="password" class="form-control" id="password" name="password"
							autocomplete="new-password"
							maxlength="15" minlength="6"
							oninput="checkPasswordMatch(document.getElementById('confirmPassword'))" />
					</div>
				</div>
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Nhập lại mật khẩu:</label>
					<div class="col-sm-8">
						<input type="password" id="confirmPassword" class="form-control"
							maxlength="15" minlength="6"
							oninput="checkPasswordMatch(this)" />
					</div>
				</div>
				<div class="text-center">
					<p><input type="submit" value="Đổi mật khẩu" class="btn btn-primary" /></p>
				</div>
			</div>
		</form>
		<div>&nbsp;</div>
		<div th:replace="navigation :: footer_menu"></div>
	</div>
<script type="text/javascript">
	function checkPasswordMatch(confirmPassword) {
		if (confirmPassword.value != $("#password").val()) {
			confirmPassword.setCustomValidity("Mật khẩu không trùng khớp");
		} else {
			confirmPassword.setCustomValidity("");
		}
	};
</script>
</body>
</html>